<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Universe Panorama</title>
  <script
          src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r105/three.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/20.0.0/tween.umd.js"></script>
  <script src="js/panolens.min.js"></script>

  <style>
    .main-container {
      height: 100vh;
      align-items: center;
      background: #111;
      display: block;
    }

    .main-container #image-container {
      /* flex: 1; */
      height: 100%;
      position: fixed;
      width: 100%;
    }
  </style>

</head>
<body  style="margin: 0; overflow: hidden;">
<div class="main-container">
<div id="image-container"> </div>
</div>
<script>
  /*
  const panorama = new PANOLENS.ImagePanorama( 'img/universe.jpg' );
  const imageContainer = document.querySelector(".image-container");
  const viewer = new PANOLENS.Viewer({
    container: imageContainer,
    autoRotate: true,
    autoRotateSpeed: 0.5,
    controlBar: false,
    horizontalView: true,
    cameraFov: 80,
    autoHideInfospot: false,
    output: 'console',
    autoRotateActivationDuration: 10000 //milliseconds
  });

  viewer.OrbitControls.noZoom = true;
  viewer.OrbitControls.noPan = true;
  viewer.OrbitControls.noRotate = false;
  viewer.DeviceOrientationControls.disconnect();
  viewer.add(panorama);*/

  // Panorama Image URL
  const panoramaImageURL = 'img/universe.jpg';
  const planetImageURL = 'img/earth.png';

  // Create panorama viewer
  const panorama = new PANOLENS.ImagePanorama(panoramaImageURL);

  // Add panorama to the container
  const container = document.getElementById('image-container');
  container.append(panorama.container);


  // Viewer setup
  const viewer = new PANOLENS.Viewer({ container: container,
    autoRotate: true,
    autoRotateSpeed: 0.5,
    controlBar: false,
    horizontalView: true,
    cameraFov: 300,
    autoHideInfospot: false,
    output: 'console',
    autoRotateActivationDuration: 10000 //milliseconds
  });

  // Add zoom points (example)
  const point1 = new PANOLENS.Infospot(350, planetImageURL);
  point1.position.set(5000, 0, -1000);
  point1.addHoverText('Zoom Point 1');

  point1.addEventListener('click', function () {
    // Zoom in on click
    console.log("Zomm 100");
    viewer.getCamera().fov = 30;
    viewer.getCamera().updateProjectionMatrix();

  });




  const point2 = new PANOLENS.Infospot(350, PANOLENS.DataImage.Info);
  point2.position.set(-5000, 0, -1000);
  point2.addHoverText('Zoom Point 2');
  panorama.add(point2);


  panorama.add(point1);
  viewer.add(panorama);
</script>

</body>
</html>